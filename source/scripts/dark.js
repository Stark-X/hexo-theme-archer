/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
/*!************************!*\
  !*** ./src/js/dark.js ***!
  \************************/
const $themeModeSwitchBtn = $('.header-theme-btn');

// 获取用户偏好的主题颜色模式
const getPreferredThemeMode = function () {
  let preferredThemeMode = localStorage.preferredThemeMode;
  if (!preferredThemeMode) {
    // 首次访问时，设置用户偏好主题颜色模式为系统偏好主题颜色模式
    preferredThemeMode = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    localStorage.preferredThemeMode = preferredThemeMode;
  } else {
    preferredThemeMode = preferredThemeMode === 'dark' ? 'dark' : 'light';
  }
  return preferredThemeMode;
};

// 设置切换主题按钮可点击
const setThemeModeSwitchBtnActive = active => {
  if (active) {
    $themeModeSwitchBtn.removeClass('header-theme-btn-disabled');
  } else {
    $themeModeSwitchBtn.addClass('header-theme-btn-disabled');
  }
};

// 切换主题颜色模式
const switchThemeMode = function (root) {
  setThemeModeSwitchBtnActive(false);
  const $darkModeSourceLink = $(`LINK[href='${root}css/dark.css']`);
  if ($darkModeSourceLink.length === 1) {
    $darkModeSourceLink.remove();
    localStorage.preferredThemeMode = 'light';
  } else {
    $('<link>').attr({
      rel: 'stylesheet',
      type: 'text/css',
      href: `${root}css/dark.css`
    }).appendTo('head');
    localStorage.preferredThemeMode = 'dark';
  }
  setThemeModeSwitchBtnActive(true);
};

// 初始化切换主题颜色模式功能
const initThemeModeSwitchButton = function () {
  setThemeModeSwitchBtnActive(false);

  // 默认情况下，加载暗色主题
  // 若用户偏好浅色主题，则切换主题颜色模式
  if (getPreferredThemeMode() === 'light') {
    switchThemeMode(window.siteMeta.root);
  }
  $themeModeSwitchBtn.click(function () {
    switchThemeMode(window.siteMeta.root);
  });
  setThemeModeSwitchBtnActive(true);
};
initThemeModeSwitchButton();
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGFyay5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLE1BQU1BLG1CQUFtQixHQUFHQyxDQUFDLENBQUMsbUJBQW1CLENBQUM7O0FBRWxEO0FBQ0EsTUFBTUMscUJBQXFCLEdBQUcsU0FBQUEsQ0FBQSxFQUFZO0VBQ3hDLElBQUlDLGtCQUFrQixHQUFHQyxZQUFZLENBQUNELGtCQUFrQjtFQUN4RCxJQUFJLENBQUNBLGtCQUFrQixFQUFFO0lBQ3ZCO0lBQ0FBLGtCQUFrQixHQUFHRSxNQUFNLENBQUNDLFVBQVUsQ0FBQyw4QkFBOEIsQ0FBQyxDQUNuRUMsT0FBTyxHQUNOLE1BQU0sR0FDTixPQUFPO0lBQ1hILFlBQVksQ0FBQ0Qsa0JBQWtCLEdBQUdBLGtCQUFrQjtFQUN0RCxDQUFDLE1BQU07SUFDTEEsa0JBQWtCLEdBQUdBLGtCQUFrQixLQUFLLE1BQU0sR0FBRyxNQUFNLEdBQUcsT0FBTztFQUN2RTtFQUNBLE9BQU9BLGtCQUFrQjtBQUMzQixDQUFDOztBQUVEO0FBQ0EsTUFBTUssMkJBQTJCLEdBQUlDLE1BQU0sSUFBSztFQUM5QyxJQUFJQSxNQUFNLEVBQUU7SUFDVlQsbUJBQW1CLENBQUNVLFdBQVcsQ0FBQywyQkFBMkIsQ0FBQztFQUM5RCxDQUFDLE1BQU07SUFDTFYsbUJBQW1CLENBQUNXLFFBQVEsQ0FBQywyQkFBMkIsQ0FBQztFQUMzRDtBQUNGLENBQUM7O0FBRUQ7QUFDQSxNQUFNQyxlQUFlLEdBQUcsU0FBQUEsQ0FBVUMsSUFBSSxFQUFFO0VBQ3RDTCwyQkFBMkIsQ0FBQyxLQUFLLENBQUM7RUFDbEMsTUFBTU0sbUJBQW1CLEdBQUdiLENBQUMsQ0FBRSxjQUFhWSxJQUFLLGdCQUFlLENBQUM7RUFDakUsSUFBSUMsbUJBQW1CLENBQUNDLE1BQU0sS0FBSyxDQUFDLEVBQUU7SUFDcENELG1CQUFtQixDQUFDRSxNQUFNLENBQUMsQ0FBQztJQUM1QlosWUFBWSxDQUFDRCxrQkFBa0IsR0FBRyxPQUFPO0VBQzNDLENBQUMsTUFBTTtJQUNMRixDQUFDLENBQUMsUUFBUSxDQUFDLENBQ1JnQixJQUFJLENBQUM7TUFDSkMsR0FBRyxFQUFFLFlBQVk7TUFDakJDLElBQUksRUFBRSxVQUFVO01BQ2hCQyxJQUFJLEVBQUcsR0FBRVAsSUFBSztJQUNoQixDQUFDLENBQUMsQ0FDRFEsUUFBUSxDQUFDLE1BQU0sQ0FBQztJQUNuQmpCLFlBQVksQ0FBQ0Qsa0JBQWtCLEdBQUcsTUFBTTtFQUMxQztFQUNBSywyQkFBMkIsQ0FBQyxJQUFJLENBQUM7QUFDbkMsQ0FBQzs7QUFFRDtBQUNBLE1BQU1jLHlCQUF5QixHQUFHLFNBQUFBLENBQUEsRUFBWTtFQUM1Q2QsMkJBQTJCLENBQUMsS0FBSyxDQUFDOztFQUVsQztFQUNBO0VBQ0EsSUFBSU4scUJBQXFCLENBQUMsQ0FBQyxLQUFLLE9BQU8sRUFBRTtJQUN2Q1UsZUFBZSxDQUFDUCxNQUFNLENBQUNrQixRQUFRLENBQUNWLElBQUksQ0FBQztFQUN2QztFQUVBYixtQkFBbUIsQ0FBQ3dCLEtBQUssQ0FBQyxZQUFZO0lBQ3BDWixlQUFlLENBQUNQLE1BQU0sQ0FBQ2tCLFFBQVEsQ0FBQ1YsSUFBSSxDQUFDO0VBQ3ZDLENBQUMsQ0FBQztFQUVGTCwyQkFBMkIsQ0FBQyxJQUFJLENBQUM7QUFDbkMsQ0FBQztBQUVEYyx5QkFBeUIsQ0FBQyxDQUFDLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZXhvLXRoZW1lLWFyY2hlci8uL3NyYy9qcy9kYXJrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0ICR0aGVtZU1vZGVTd2l0Y2hCdG4gPSAkKCcuaGVhZGVyLXRoZW1lLWJ0bicpXG5cbi8vIOiOt+WPlueUqOaIt+WBj+WlveeahOS4u+mimOminOiJsuaooeW8j1xuY29uc3QgZ2V0UHJlZmVycmVkVGhlbWVNb2RlID0gZnVuY3Rpb24gKCkge1xuICBsZXQgcHJlZmVycmVkVGhlbWVNb2RlID0gbG9jYWxTdG9yYWdlLnByZWZlcnJlZFRoZW1lTW9kZVxuICBpZiAoIXByZWZlcnJlZFRoZW1lTW9kZSkge1xuICAgIC8vIOmmluasoeiuv+mXruaXtu+8jOiuvue9rueUqOaIt+WBj+WlveS4u+mimOminOiJsuaooeW8j+S4uuezu+e7n+WBj+WlveS4u+mimOminOiJsuaooeW8j1xuICAgIHByZWZlcnJlZFRoZW1lTW9kZSA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJylcbiAgICAgIC5tYXRjaGVzXG4gICAgICA/ICdkYXJrJ1xuICAgICAgOiAnbGlnaHQnXG4gICAgbG9jYWxTdG9yYWdlLnByZWZlcnJlZFRoZW1lTW9kZSA9IHByZWZlcnJlZFRoZW1lTW9kZVxuICB9IGVsc2Uge1xuICAgIHByZWZlcnJlZFRoZW1lTW9kZSA9IHByZWZlcnJlZFRoZW1lTW9kZSA9PT0gJ2RhcmsnID8gJ2RhcmsnIDogJ2xpZ2h0J1xuICB9XG4gIHJldHVybiBwcmVmZXJyZWRUaGVtZU1vZGVcbn1cblxuLy8g6K6+572u5YiH5o2i5Li76aKY5oyJ6ZKu5Y+v54K55Ye7XG5jb25zdCBzZXRUaGVtZU1vZGVTd2l0Y2hCdG5BY3RpdmUgPSAoYWN0aXZlKSA9PiB7XG4gIGlmIChhY3RpdmUpIHtcbiAgICAkdGhlbWVNb2RlU3dpdGNoQnRuLnJlbW92ZUNsYXNzKCdoZWFkZXItdGhlbWUtYnRuLWRpc2FibGVkJylcbiAgfSBlbHNlIHtcbiAgICAkdGhlbWVNb2RlU3dpdGNoQnRuLmFkZENsYXNzKCdoZWFkZXItdGhlbWUtYnRuLWRpc2FibGVkJylcbiAgfVxufVxuXG4vLyDliIfmjaLkuLvpopjpopzoibLmqKHlvI9cbmNvbnN0IHN3aXRjaFRoZW1lTW9kZSA9IGZ1bmN0aW9uIChyb290KSB7XG4gIHNldFRoZW1lTW9kZVN3aXRjaEJ0bkFjdGl2ZShmYWxzZSlcbiAgY29uc3QgJGRhcmtNb2RlU291cmNlTGluayA9ICQoYExJTktbaHJlZj0nJHtyb290fWNzcy9kYXJrLmNzcyddYClcbiAgaWYgKCRkYXJrTW9kZVNvdXJjZUxpbmsubGVuZ3RoID09PSAxKSB7XG4gICAgJGRhcmtNb2RlU291cmNlTGluay5yZW1vdmUoKVxuICAgIGxvY2FsU3RvcmFnZS5wcmVmZXJyZWRUaGVtZU1vZGUgPSAnbGlnaHQnXG4gIH0gZWxzZSB7XG4gICAgJCgnPGxpbms+JylcbiAgICAgIC5hdHRyKHtcbiAgICAgICAgcmVsOiAnc3R5bGVzaGVldCcsXG4gICAgICAgIHR5cGU6ICd0ZXh0L2NzcycsXG4gICAgICAgIGhyZWY6IGAke3Jvb3R9Y3NzL2RhcmsuY3NzYCxcbiAgICAgIH0pXG4gICAgICAuYXBwZW5kVG8oJ2hlYWQnKVxuICAgIGxvY2FsU3RvcmFnZS5wcmVmZXJyZWRUaGVtZU1vZGUgPSAnZGFyaydcbiAgfVxuICBzZXRUaGVtZU1vZGVTd2l0Y2hCdG5BY3RpdmUodHJ1ZSlcbn1cblxuLy8g5Yid5aeL5YyW5YiH5o2i5Li76aKY6aKc6Imy5qih5byP5Yqf6IO9XG5jb25zdCBpbml0VGhlbWVNb2RlU3dpdGNoQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICBzZXRUaGVtZU1vZGVTd2l0Y2hCdG5BY3RpdmUoZmFsc2UpXG5cbiAgLy8g6buY6K6k5oOF5Ya15LiL77yM5Yqg6L295pqX6Imy5Li76aKYXG4gIC8vIOiLpeeUqOaIt+WBj+Wlvea1heiJsuS4u+mimO+8jOWImeWIh+aNouS4u+mimOminOiJsuaooeW8j1xuICBpZiAoZ2V0UHJlZmVycmVkVGhlbWVNb2RlKCkgPT09ICdsaWdodCcpIHtcbiAgICBzd2l0Y2hUaGVtZU1vZGUod2luZG93LnNpdGVNZXRhLnJvb3QpXG4gIH1cblxuICAkdGhlbWVNb2RlU3dpdGNoQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICBzd2l0Y2hUaGVtZU1vZGUod2luZG93LnNpdGVNZXRhLnJvb3QpXG4gIH0pXG5cbiAgc2V0VGhlbWVNb2RlU3dpdGNoQnRuQWN0aXZlKHRydWUpXG59XG5cbmluaXRUaGVtZU1vZGVTd2l0Y2hCdXR0b24oKVxuIl0sIm5hbWVzIjpbIiR0aGVtZU1vZGVTd2l0Y2hCdG4iLCIkIiwiZ2V0UHJlZmVycmVkVGhlbWVNb2RlIiwicHJlZmVycmVkVGhlbWVNb2RlIiwibG9jYWxTdG9yYWdlIiwid2luZG93IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJzZXRUaGVtZU1vZGVTd2l0Y2hCdG5BY3RpdmUiLCJhY3RpdmUiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwic3dpdGNoVGhlbWVNb2RlIiwicm9vdCIsIiRkYXJrTW9kZVNvdXJjZUxpbmsiLCJsZW5ndGgiLCJyZW1vdmUiLCJhdHRyIiwicmVsIiwidHlwZSIsImhyZWYiLCJhcHBlbmRUbyIsImluaXRUaGVtZU1vZGVTd2l0Y2hCdXR0b24iLCJzaXRlTWV0YSIsImNsaWNrIl0sInNvdXJjZVJvb3QiOiIifQ==